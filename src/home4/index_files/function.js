var wrap,wrapHref,wrapHrefArgs,overlays;var oldOverlayWidth,oldOverlayHeight;var globalInterval,windowW;var oldScroll=0;var scrollStep=5;var cache=[];$.fn.isOnScreen=function(){var c=$(window);var a={top:c.scrollTop(),left:c.scrollLeft()};a.right=a.left+c.width();a.bottom=a.top+c.height();var b=this.offset();b.right=b.left+this.outerWidth(false);b.bottom=b.top+this.outerHeight(false);return(!(a.right<b.left||a.left>b.right||a.bottom<b.top||a.top>b.bottom))};(function(b,a){if(typeof define==="function"&&define.amd){define([],a)}else{b.textFit=a()}})(typeof global==="object"?global:this,function(){return function(w,e){function v(l){if(!g(l)||!b.reProcess&&l.getAttribute("textFitted")){return false}if(!b.reProcess){l.setAttribute("textFitted",1)}var A,f,h,B;var c,z,a;h=l.innerHTML;B=m(l);f=q(l);if(!B||!b.widthOnly&&!f){if(window.console&&!b.suppressErrors){if(!b.widthOnly){console.info("Set a static height and width on the target element "+l.outerHTML+" before using textFit!")}else{console.info("Set a static width on the target element "+l.outerHTML+" before using textFit!")}}return false}if(h.indexOf("textFitted")===-1){A=document.createElement("span");A.className="textFitted";A.style.display="inline-block";A.innerHTML=h;l.innerHTML="";l.appendChild(A)}else{A=l.querySelector("span.textFitted");if(p(A,"textFitAlignVert")){A.className=A.className.replace("textFitAlignVert","")}}if(b.alignHoriz){l.style["text-align"]="center";A.style["text-align"]="center"}var r=b.multiLine;if(b.detectMultiLine&&!r&&A.offsetHeight>=parseInt(window.getComputedStyle(A)["font-size"],10)*2){r=true}if(!r){l.style["white-space"]="nowrap"}c=b.minFontSize+1;a=b.maxFontSize+1;while(c<=a){z=parseInt((c+a)/2,10);A.style.fontSize=z+"px";if(A.offsetWidth<=B&&(b.widthOnly||A.offsetHeight<=f)){c=z+1}else{a=z-1}}A.style.fontSize=z-1+"px";if(b.alignVert){k();var y=A.offsetHeight;if(window.getComputedStyle(l)["position"]==="static"){l.style.position="relative"}if(!p(A,"textFitAlignVert")){A.className=A.className+" textFitAlignVert"}A.style.height=y+"px"}}function q(c){var a=window.getComputedStyle(c,null);return c.clientHeight-parseInt(a.getPropertyValue("padding-top"),10)-parseInt(a.getPropertyValue("padding-bottom"),10)}function m(c){var a=window.getComputedStyle(c,null);return c.clientWidth-parseInt(a.getPropertyValue("padding-left"),10)-parseInt(a.getPropertyValue("padding-right"),10)}function g(a){return typeof HTMLElement==="object"?a instanceof HTMLElement:a&&typeof a==="object"&&a!==null&&a.nodeType===1&&typeof a.nodeName==="string"}function p(c,a){return(" "+c.className+" ").indexOf(" "+a+" ")>-1}function k(){if(document.getElementById("textFitStyleSheet")){return}var c=[".textFitAlignVert{","position: absolute;","top: 0; right: 0; bottom: 0; left: 0;","margin: auto;","}"].join("");var a=document.createElement("style");a.type="text/css";a.id="textFitStyleSheet";a.innerHTML=c;document.body.appendChild(a)}var b={alignVert:false,alignHoriz:false,multiLine:false,detectMultiLine:true,minFontSize:6,maxFontSize:80,reProcess:true,widthOnly:false,suppressErrors:false};for(var j in e){if(e.hasOwnProperty(j)){b[j]=e[j]}}if(typeof w.toArray==="function"){w=w.toArray()}var x=Object.prototype.toString.call(w);if(x!=="[object Array]"&&x!=="[object NodeList]"){w=[w]}for(var d=0;d<w.length;d++){v(w[d])}}});$(function(){initHeader();initOverlays();initModals();initHome();initAbout();initCreate();initPricing();initPress();initLaunchPad();initSlideShow();initReseller();initTour();$(window).resize(function(){centerLayer("overlay");centerModals()});$(".nivo-directionNav a.nivo-prevNav").addClass("fa fa-chevron-left");$(".nivo-directionNav a.nivo-nextNav").addClass("fa fa-chevron-right")});function preloadImages(){var b=arguments.length;for(var a=b;a--;){if($.inArray(arguments[a],cache)==-1){$("<img />").hide().attr("src","/_public/css/goodbarber/"+arguments[a]).load(function(){$("body").append($(this))});cache.push(arguments[a])}}}function initHeader(){$(".toggle-swipe").on("click",function(){$("#swipe-menu").toggleClass("show");setTimeout(function(){if($("#swipe-menu").hasClass("show")){$("html, body").addClass("lock")}else{$("html, body").removeClass("lock")}},400)});$(window).on("scroll",function(){var a=$(window).scrollTop();if(a>=0){if(Math.abs((a-oldScroll))>scrollStep){if(a<oldScroll){$("header").slideDown(300)}else{$("header").slideUp(300)}if($("#page-inner > div").hasClass("visual")){if(a>=$("#page-inner > div.visual section:first").outerHeight(false)){$("header").addClass("black");$(".toggle-swipe img").attr("src",$(".toggle-swipe img").attr("src").replace("-button","-blue"))}else{$("header").removeClass("black");$(".toggle-swipe img").attr("src",$(".toggle-swipe img").attr("src").replace("-blue","-button"))}}}oldScroll=a}});$(window).on("load",function(){$(window).trigger("scroll")})}function initHome(){$("#menu-toggle a").on("click",function(a){a.preventDefault();if($("#main-nav").is(":hidden")){$("header").addClass("full-menu")}else{$("header").removeClass("full-menu")}$("#main-nav").slideToggle(300)});$(window).on("resize",function(){$("#intro").height($(window).height())});$("#intro").height($(window).height());$("#intro h1").fitText();$("#intro h3").fitText(2.5,{minFontSize:"16px"});$("#intro a.try").fitText(1.2);$("#home-arrow").on("click",function(){$("html, body").stop().animate({scrollTop:$("#tuto").position().top},400,"swing")});$("#slider-design-app").nivoSlider({effect:"fade",animSpeed:500,pauseTime:7000,startSlide:0,directionNav:true,controlNav:false,controlNavThumbs:false,pauseOnHover:true,manualAdvance:true,prevText:"",nextText:"",randomStart:false,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}});if($("#intro-slideshow").length){$("#intro-slideshow .scroller").bxSlider({pager:false,controls:true,auto:true,pause:5000,oneToOneTouch:false})}}function initTour(){var a=$("#tour > section.intros-tour");a.height($(window).height()*0.85);$(".media img",a).load(function(){$(this).attr("data-height",this.height)});$(window).on("resize",function(){a.height($(window).height()*0.85);$(".media:visible",a).each(function(){var b=$(this).prev().outerHeight()+$("header").height();if($("img",$(this)).attr("data-height")>=$(this).height()){$(this).css("top",b+"px").addClass("stick")}else{$(this).css("top","auto").removeClass("stick")}})});$(window).on("load",function(){$(window).trigger("resize")});$(".slider-tour:not(#slider-tour-content-cms)").nivoSlider({effect:"fade",animSpeed:500,pauseTime:7000,startSlide:0,directionNav:true,controlNav:false,controlNavThumbs:false,pauseOnHover:true,manualAdvance:true,prevText:"",nextText:"",randomStart:false,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}});$("#slider-tour-content-cms").nivoSlider({effect:"fade",animSpeed:500,pauseTime:4000,startSlide:0,directionNav:true,controlNav:true,controlNavThumbs:false,pauseOnHover:true,manualAdvance:true,prevText:"",nextText:"",randomStart:false,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){callbackNivo()}});AppShowcase("#showcase-browsing",true);$("#tour .tour-nav a").on("click",function(){$("#tour .tour-nav a").removeClass("sel");$(this).addClass("sel");$(".intros-tour, .tour-nav ~ div").hide();var b=$(this).attr("href").replace("#","");$("#intro-tour-"+b+", #tour-"+b).fadeIn(500);$(window).trigger("resize")});if($("#tour").length&&document.location.hash==""){document.location.hash="#design"}$("#tour .tour-nav a[href='"+document.location.hash+"']").click();$("#tour-design-adaptative .buttons-adaptative a").on("click",function(){$("#tour-design-adaptative .buttons-adaptative a").removeClass("sel");var b=$(this).index();$("#tour-design-adaptative img").hide();$("#tour-design-adaptative img:eq("+b+")").fadeIn();$(this).addClass("sel")})}function initFeatures(){if($(".slider-features").length){$(".slider-features").nivoSlider({effect:"fade",animSpeed:500,pauseTime:7000,startSlide:0,directionNav:false,controlNav:true,controlNavThumbs:false,pauseOnHover:true,manualAdvance:false,prevText:"Prev",nextText:"Next",randomStart:false,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}})}if($("#features").length){$(window).on("scroll",function(){if($("#push-message").isOnScreen()){$("#push-message").fadeIn(1000,function(){$("#push-marker").addClass("glow")})}if($("#push-tooltip").isOnScreen()){$("#push-notif").addClass("show");setTimeout(function(){$("#push-tooltip").attr("src",$("#push-tooltip").attr("src").replace("off","on"))},1100)}if($("#features-dashboard").isOnScreen()){$("#features-dashboard").addClass("balance")}})}}function initAbout(){$("#contact :input").focus(function(){$(this).removeClass("error")});var a=true;$("#a_contactemail").keyup(function(b){if(!isValidEmail($(this).val())){a=false;$(this).addClass("error");$("#"+$(this).attr("id")+"_safe").addClass("error")}else{$(this).removeClass("error");$("#"+$(this).attr("id")+"_safe").removeClass("error")}});$("#a_nom, #a_message").keyup(function(b){if($.trim($(this).val())==""){a=false;$(this).addClass("error");$("#"+$(this).attr("id")+"_safe").addClass("error")}else{$(this).removeClass("error");$("#"+$(this).attr("id")+"_safe").removeClass("error")}});$("#send").click(function(b){a=true;b.preventDefault();$("#a_contactemail, #a_nom, #a_message").trigger("keyup");if(a){$("form#contact").submit()}})}function initCreate(){$(window).on("resize",function(){$("#create section").height($(window).height())});$("#create section").height($(window).height());$("select").chosen();$(".chzn-search").hide();$(document).on("keyup blur","#a_appname",function(e){var tmp_ok=false;var obj=$(this);obj.val(obj.val().toLowerCase());obj.removeClass("valid");if(obj.val().length<nbMinCarAppName){obj.parent().find("input").addClass("error");$("#"+obj.attr("id")+"_error").html(errorMinCarAppName)}else{if(obj.val().match(/^[^a-z]/g)){obj.parent().find("input").addClass("error");$("#"+obj.attr("id")+"_error").html(errorInvalidFirstCharAppName)}else{if(obj.val().match(/[^a-z0-9]/g)){obj.parent().find("input").addClass("error");$("#"+obj.attr("id")+"_error").html(errorInvalidAppName)}else{$.post("/","show=create&action=check_appname&a_appname="+obj.val(),function(data){if(data!="ok"){obj.parent().find("input").addClass("error");$("#"+obj.attr("id")+"_error").html(eval(data))}else{obj.addClass("valid");obj.parent().find("input").removeClass("error");$("#"+obj.attr("id")+"_error").html("");tmp_ok=true}})}}}ok=tmp_ok});$(document).on("blur","#a_pass",function(e,check_empty){$(this).parent().find("input").removeClass("error");$("#error-credentials").html("");if($(this).val()==""&&!check_empty){return}if($(this).val().length<nbMinCarPassword){ok=false;$(this).parent().find("input").addClass("error");$("#error-credentials").html(errorPassword+" ("+errorMinCarPassword+")")}});$(document).on("blur","#a_email",function(e,check_empty){$(this).parent().find("input").removeClass("error");$("#error-credentials").html("");if($(this).val()==""&&!check_empty){return}if(!isValidEmail($(this).val())){ok=false;$(this).parent().find("input").addClass("error");$("#a_pass").parent().find("input").removeClass("error");$("#error-credentials").html(errorAccountId)}});$(document).on("keyup","#a_email, #a_pass, #a_appname",function(e){if(e.which==13){$("#create-goodbarber").trigger("click")}});$(document).on("click","#create-goodbarber",function(e){ok=true;e.preventDefault();if(!$("#a_appname").hasClass("valid")){$("#a_appname").trigger("keyup")}$("#a_pass").trigger("blur",true);$("#a_email").trigger("blur",true);if($("#a_categorie").val()==0){ok=false;$("#a_categorie").addClass("error")}if(ok){var geoip;$.ajax({url:"http://freegeoip.net/json/",dataType:"json",timeout:3000,complete:function(location){var date=new Date();args="";args+="&time="+date.getTime();args+="&timezone="+date.getTimezoneOffset();try{if(typeof location.responseText!="undefined"){location=JSON.parse(location.responseText)}if(location.country_name&&location.country_name!="undefined"){args+="&country_name="+location.country_name}if(location.country_code&&location.country_code!="undefined"){args+="&country_code="+location.country_code}}catch(e){$.ajax({url:"http://www.telize.com/geoip/",dataType:"json",timeout:3000,async:false,success:function(location){if(location.country&&location.country!="undefined"){args+="&country_name="+location.country}if(location.country_code&&location.country_code!="undefined"){args+="&country_code="+location.country_code}}})}args+="&a_appname="+$("#a_appname").val();args+="&a_categorie="+$("#a_categorie").val();args+="&a_email="+$("#a_email").val();args+="&a_pass="+$.sha1($("#a_pass").val());$.post("/","show=create&action=checkcredentials&a_email="+$("#a_email").val()+"&a_pass="+$.sha1($("#a_pass").val()),function(data){if(data=="ok"){$("#beautiful-title").hide();$("#magical-title").show();$("#create form").css("visibility","hidden");$("#magical-stuff").show();var steps={"0%":[0,step1],"25%":[3000,step2],"50%":[9000,step3],"75%":[12000,step4]};$.each(steps,function(index,value){setTimeout(function(){$("#percent").html(index);$("#create .bar span").animate({width:index},500);$("#percent + div").html(value[1])},value[0])});$.post("/","show=create&action=create"+args,function(data){if(data!="ko"){$("#goto-backoffice").attr("href","http://"+$("#a_appname").val()+".goodbarber.com/manage/?ident="+$.sha1($("#a_email").val()+"@"+$.sha1($("#a_pass").val())));setTimeout(function(){$("#goto-backoffice").css("display","block");$("#magical-stuff .bar, #magical-stuff #percent, #magical-stuff #percent + div").hide();$("#magical-title span").hide();$("#magical-title .ready").css("display","block")},10000);$("body").append(data)}else{$("#magical-title").hide();$("#beautiful-title").show();$("#create form").css("visibility","visible");$("#magical-stuff").hide();$("#a_pass, #a_email, #a_appname").parent().find("input").removeClass("valid").addClass("error")}})}else{$("#error-credentials").html(errorInvalidCredentials);$("#a_pass, #a_email").parent().find("input").addClass("error")}})}})}})}function initDesign(){$("#design .try-design img").on("click",function(){var a=$(this).attr("data-theme");preloadImages("themes/"+a);var b;b=parseInt($("#splashscreens").css("width"));if(!$("#splashscreens").hasClass("animate")){$("#splashscreens").css({"background-image":"url(/_public/css/goodbarber/themes/"+a+")","background-position":"0 0"});setTimeout(function(){$("#splashscreens").addClass("animate").css("background-position","-"+b+"px 0");var c=1;globalInterval=window.setInterval(function(){c++;if(c<4){$("#splashscreens").css("background-position","-"+(c*b)+"px 0")}else{clearInterval(globalInterval);$("#splashscreens").removeClass("animate").css("background-position","0 0")}},2000)},1500)}})}function initPricing(){$(".premier").click(function(a){a.preventDefault();$(this).parent().find(".version_short").slideToggle(200)});$(".premier").hover(function(){$("img",$(this)).attr("src",$("img",$(this)).attr("src").replace(".png","-2.png"))},function(){$("img",$(this)).attr("src",$("img",$(this)).attr("src").replace("-2.png",".png"))})}function initSlideShow(){$(".slideshow .slide").scrollLeft(0);$(".controls .previous").click(function(a){a.preventDefault();slideShow($(this).parents(".slideshow").attr("id"),false)});$(".controls .next").click(function(a){a.preventDefault();slideShow($(this).parents(".slideshow").attr("id"),true)});$(".slideshow .nivo-controlNav a").on("click",function(a){a.preventDefault();slideShow($(this).parents(".slideshow").attr("id"),true,$(this).attr("rel"))});$(window).on("resize",function(){$(".slideshow .nivo-controlNav a.active").trigger("click")})}function slideShow(g,d,c){if(!$("#"+g+".slideshow .slide").is(":animated")){var a=parseInt($("#"+g+".slideshow ul").css("width"));var b=parseInt($("#"+g+".slideshow .slide").scrollLeft()/a);var e=$("#"+g+".slideshow .max > ul").length||$("#"+g+".slideshow .max > div").length;var f;if(c==null){f=(d==false?b-1:b+1)*a}else{f=(c-1)*a}if(c==null){if(d&&b>=e-1){return}if(!d&&b<=0){return}}else{if(c==b+1){return}}$("#"+g+".slideshow .max > ul, #"+g+".slideshow .max > div").css("visibility","visible").css("display","block");$("#"+g+".slideshow .max > ul, #"+g+".slideshow .max > div").each(function(h){if(h==b){$(this).fadeOut(800,function(){$(this).css("visibility","hidden").css("display","block")})}});$("#"+g+".slideshow .slide").animate({"scroll-left":f},800);newIndexSection=parseInt(f/a);$("#"+g+".slideshow .nivo-controlNav a").removeClass("active");$("#"+g+".slideshow .nivo-controlNav a").each(function(h){if(h==newIndexSection){$(this).addClass("active")}})}}function initIE(){if(navigator.userAgent.toLowerCase().match(/msie [1-8]\./)){var a=320;if($(window).width()<992){a=250}if($("[data-theme]").length){$("[data-theme]").each(function(){$(this).attr("data-theme",$(this).attr("data-theme").replace(640,a))})}if($("#splashscreens").length){$("#splashscreens").css("background-image",$("#splashscreens").css("background-image").replace(640,a))}if($(".shadow-theme div").length){$(".shadow-theme div").each(function(){$(this).css("background-image",$(this).css("background-image").replace(640,250))})}}else{}}function initLaunchPad(){$("#other-accounts").click(function(a){a.preventDefault();$(this).next().fadeIn(200)})}function initModals(){centerModals();$("a[rel=#modal]").click(function(a){a.preventDefault();href=$(this).attr("href");var b=href.replace("#","");if($("#modal-"+b).length){$("#modal-"+b).addClass("modal-show");$("#modal-overlay").css("visibility","visible")}});$("#modal-close").click(function(){$(document).off("touchmove");$(".modal-show").removeClass("modal-show");$("#modal-overlay").css("visibility","hidden")})}function centerModals(){$(".modal").each(function(){centerLayer($(this).attr("id"));$(".modal, .modal-show").css("visibility","")})}function initOverlays(){overlays=$("a[rel=#overlay]").overlay({mask:{color:"#000",loadSpeed:200,opacity:0.7},top:"center",closeOnClick:false,closeOnEsc:true,api:true,onBeforeLoad:function(){var a=this.getTrigger().attr("href");if(a.match(/^#video/)){this.getConf().closeOnClick=true;$("#overlay a.close").hide()}else{this.getConf().closeOnClick=false;$("#overlay a.close").show()}wrap=this.getOverlay().find(".contentWrap");showOverlay(a)},onClose:function(){$("#overlay").css("width",oldOverlayWidth);$("#overlay").css("height",oldOverlayHeight);var a=this.getTrigger().attr("href");if(a.match(/^#video/)){$("#iframe-video").remove()}}})}function initOverlayRel(c,b){c.preventDefault();overlays.load();wrap=$("#overlay").find(".contentWrap");wrap.html("");var a=b.attr("href");showOverlay(a)}function closeOverlay(){$("#overlay a.close").click()}jQuery.extend({unparam:function(a){var b={};$.each(a.split("&"),function(){var c=this.split("=");var d=this.split("[]");if(d.length>1){if(!b[d[0]]){b[d[0]]=new Array()}b[d[0]].push(c[1])}else{if(c[0]!=""){b[c[0]]=c[1]}}});return b}});function showOverlay(a,b){if(!b){b=""}else{b+="&"}var c=ici;if(a.match(/\?/)){tmp=a.split("?");b+=tmp[1];a=tmp[0]}if(a.match(/#/)){tmp=a.split("#");b+="&show="+tmp[1]}args="&send=overlay&"+b;c=a;if(c.match(/^#/)){c=ici+c}wrapHref=c;wrapHrefArgs=args;a=$.unparam(a+args);if($.browser.msie){$.post(c,a,function(d){wrap.html(d);centerLayer("overlay")})}else{wrap.load(c,a,function(){centerLayer("overlay")})}}function centerLayer(a){newTop=Math.max(parseInt(($(window).height()-$("#"+a).height())/2),0);$("#"+a).css("top",newTop+"px");newLeft=parseInt(($(window).width()-$("#"+a).width())/2);$("#"+a).css("left",newLeft+"px");$("#"+a).css("visibility","visible")}function refreshOverlay(){if(wrapHref){showOverlay(wrapHref)}}function getHrefOverlay(){return new Array(wrapHref,wrapHrefArgs)}function isValidEmail(a){return a.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)}function razField(){var b=arguments.length;for(var a=b;a--;){$(arguments[a]).removeClass("error");$("#"+$(arguments[a]).attr("id")+"_safe").removeClass("error");$("#"+$(arguments[a]).attr("id")+"_error").html("")}}function protected_mail(b){b=b.replace(/!SPAM!/gi,"@");b=b.replace(/,/gi,";");var a=window.open("mailto:"+b);a.close()}function initPress(){if($("#press").length){$(window).scroll(function(){if($(window).scrollTop()>$("#press .content").offset().top){$("#press #menu-left > nav").addClass("fixed")}else{$("#press #menu-left > nav").removeClass("fixed")}});$("#form-press :input").focus(function(){$(this).removeClass("error")});var a=true;$("#EMAIL").keyup(function(b){if(!isValidEmail($(this).val())){a=false;$(this).addClass("error");$("#"+$(this).attr("id")+"_safe").addClass("error")}else{$(this).removeClass("error");$("#"+$(this).attr("id")+"_safe").removeClass("error")}});$("#FNAME, #COMPANY").keyup(function(b){if($.trim($(this).val())==""){a=false;$(this).addClass("error");$("#"+$(this).attr("id")+"_safe").addClass("error")}else{$(this).removeClass("error");$("#"+$(this).attr("id")+"_safe").removeClass("error")}});$("#send").click(function(b){a=true;b.preventDefault();$("#EMAIL, #FNAME, #COMPANY").trigger("keyup");if(a){$("#form-press").submit();$("#form-press :not(#mailchimp-ok)").remove();$("#mailchimp-ok").show()}})}}function initSalvador(){AppShowcase("#showcase-browsing",true);AppShowcase("#showcase-toolbars",true);if($("#salvador, #features").length){$(window).on("resize",function(){if($(window).width()<=992){$(".liveplus-caption").each(function(){$(this).attr("src",$(this).attr("src").replace(/(-small)?\.png/,"-small.png"))})}else{$(".liveplus-caption").each(function(){$(this).attr("src",$(this).attr("src").replace("-small.png",".png"))})}});$(window).trigger("resize");$(window).on("scroll",function(){if($("#liveplus-action").isOnScreen()){$(".liveplus-caption").animate({opacity:1})}})}}function AppShowcase(c,n){var p=$(c),d=p.next(".app-showcase-legend"),i=d.find("nav.bullets a"),k=p.find(".app-showcase-bundle img"),e=p.find("div:eq(0) img").css("transition","all 0.5s ease"),g=0,f=k.length,m,o=false,l=Modernizr.csstransitions,a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},h=a[Modernizr.prefixed("transition")];if(n===true){j()}i.on("click",function(){window.clearInterval(m);b($(this).index());j();return false});function j(){m=window.setInterval(function(){if(k.eq((g+1)).length){b((g+1))}else{b(0)}},5000)}function b(r){if(o){return false}o=true;if(r>g){direction="next"}else{if(r<g){direction="prev"}else{return false}}i.parent().find("a").removeClass("active");i.eq(r).addClass("active");d.find("> div").hide();d.find("> div:eq("+r+")").fadeIn();g=r;var s=k.eq(g);if(l){var q=$('<img src="'+s.attr("src")+'"></img>').css({transition:"all 0.5s ease",opacity:0,transform:direction==="next"?"scale(0.9)":"translateY(100px)"}).insertBefore(e);setTimeout(function(){e.css({opacity:0,transform:direction==="next"?"translateY(100px)":"scale(0.9)"}).on(h,function(){$(this).remove()});q.css({opacity:1,transform:direction==="next"?"scale(1)":"translateY(0px)"}).on(h,function(){e=$(this).off(h);o=false})},25)}else{e.attr("src",s.attr("src"));o=false}}}function fetchDevise(){var b=["us","br","ca","mx","co","ar","ve","pe","cl","ec","gt","cu","do","bo","hn","sv","ni","cr","py","pr","uy","pa","bz"];$.ajax({url:"http://freegeoip.net/json/",dataType:"json",timeout:3000,success:function(c){a(c)},error:function(){$.ajax({url:"http://www.telize.com/geoip/",dataType:"json",timeout:3000,success:function(c){a(c)},error:function(){var c=new Date();c.setTime(c.getTime()+(1000*120));setCookie("udev",978,c,"/")}})}});function a(c){c.country_code;var d=978;if(c.country_code&&$.inArray(c.country_code.toLowerCase(),b)>-1){d=840}var e=new Date();e.setTime(e.getTime()+(1000*3600*24));setCookie("udev",d,e,"/");if(d!=978){location.reload()}}}function initReseller(){if($("#reseller").length){$(window).on("resize",function(){$("#intro-reseller").height($(window).height()*0.7);$("#intro-reseller h3").toggle($(this).height()>=800)});$("#intro-reseller").height($(window).height()*0.7);$("select").chosen();$(".chzn-search").hide();$("#form-reseller :input").focus(function(){$(this).removeClass("error")});var a=true;$("#a_contactemail").keyup(function(b){if(!isValidEmail($(this).val())){a=false;$(this).addClass("error");$("#"+$(this).attr("id")+"_safe").addClass("error")}else{$(this).removeClass("error");$("#"+$(this).attr("id")+"_safe").removeClass("error")}});$("#a_name, #a_company, #a_message").keyup(function(b){if($.trim($(this).val())==""){a=false;$(this).addClass("error");$("#"+$(this).attr("id")+"_safe").addClass("error")}else{$(this).removeClass("error");$("#"+$(this).attr("id")+"_safe").removeClass("error")}});$("#send").click(function(b){a=true;b.preventDefault();$("#a_contactemail, #a_name, #a_company, #a_message").trigger("keyup");$("#a_nbapp").trigger("change");if(a){$.post("/","show=reseller&action=send&"+$("#form-reseller").serialize(),function(c){$("#form-reseller p").show();$("#send").hide();$("body").append(c)})}})}}function setCookie(b,d,a,f,c,e){szCookie=b+"="+escape(d)+((a)?"; expires="+a.toGMTString():"")+((f)?"; path="+f:"")+((c)?"; domain="+c:"")+((e)?"; secure":"");document.cookie=szCookie}(function(d){var c=function(g,f){return(g<<f)|(g>>>(32-f))};var b=function(j){var f="";var g;var k;var h;for(g=0;g<=6;g+=2){k=(j>>>(g*4+4))&15;h=(j>>>(g*4))&15;f+=k.toString(16)+h.toString(16)}return f};var a=function(j){var g="";var h;var f;for(h=7;h>=0;h--){f=(j>>>(h*4))&15;g+=f.toString(16)}return g};var e=function(g){g=g.replace(/\x0d\x0a/g,"\x0a");var f="";for(var i=0;i<g.length;i++){var h=g.charCodeAt(i);if(h<128){f+=String.fromCharCode(h)}else{if((h>127)&&(h<2048)){f+=String.fromCharCode((h>>6)|192);f+=String.fromCharCode((h&63)|128)}else{f+=String.fromCharCode((h>>12)|224);f+=String.fromCharCode(((h>>6)&63)|128);f+=String.fromCharCode((h&63)|128)}}}return f};d.extend({sha1:function(f){var l;var x,w;var g=new Array(80);var o=1732584193;var n=4023233417;var m=2562383102;var k=271733878;var h=3285377520;var v,t,s,r,q;var y;f=e(f);var p=f.length;var u=new Array();for(x=0;x<p-3;x+=4){w=f.charCodeAt(x)<<24|f.charCodeAt(x+1)<<16|f.charCodeAt(x+2)<<8|f.charCodeAt(x+3);u.push(w)}switch(p%4){case 0:x=2147483648;break;case 1:x=f.charCodeAt(p-1)<<24|8388608;break;case 2:x=f.charCodeAt(p-2)<<24|f.charCodeAt(p-1)<<16|32768;break;case 3:x=f.charCodeAt(p-3)<<24|f.charCodeAt(p-2)<<16|f.charCodeAt(p-1)<<8|128;break}u.push(x);while((u.length%16)!=14){u.push(0)}u.push(p>>>29);u.push((p<<3)&4294967295);for(l=0;l<u.length;l+=16){for(x=0;x<16;x++){g[x]=u[l+x]}for(x=16;x<=79;x++){g[x]=c(g[x-3]^g[x-8]^g[x-14]^g[x-16],1)}v=o;t=n;s=m;r=k;q=h;for(x=0;x<=19;x++){y=(c(v,5)+((t&s)|(~t&r))+q+g[x]+1518500249)&4294967295;q=r;r=s;s=c(t,30);t=v;v=y}for(x=20;x<=39;x++){y=(c(v,5)+(t^s^r)+q+g[x]+1859775393)&4294967295;q=r;r=s;s=c(t,30);t=v;v=y}for(x=40;x<=59;x++){y=(c(v,5)+((t&s)|(t&r)|(s&r))+q+g[x]+2400959708)&4294967295;q=r;r=s;s=c(t,30);t=v;v=y}for(x=60;x<=79;x++){y=(c(v,5)+(t^s^r)+q+g[x]+3395469782)&4294967295;q=r;r=s;s=c(t,30);t=v;v=y}o=(o+v)&4294967295;n=(n+t)&4294967295;m=(m+s)&4294967295;k=(k+r)&4294967295;h=(h+q)&4294967295}var y=a(o)+a(n)+a(m)+a(k)+a(h);return y.toLowerCase()}})})(jQuery);